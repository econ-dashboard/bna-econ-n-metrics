<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8 /" />
    <title>Econ dashboard landing page</title>
    <link rel="stylesheet" href="static/css/landing-style.css" />
    <!-- <script src="static/js/home.js"> </script> -->
  </head>

  <body onload="loadJSON ()">
    <div class="page-container">
      <header class="page-header">
        <p>Local Economy Indicator</p>
      </header>
    </div>
    <div class="search-container">
      <div class="search-content">
        <!-- <input type="text" placeholder="Search county.." />
        <p class="dropdown"></p> -->
        <button type="button" class="collapsible" data-state="AL" id="AL">Alabama</button>
        <div class="content"></div>
        <button type="button" class="collapsible" data-state="AK" id="AK">Alaska</button>
        
      <script> 
        let stateButton = document.querySelector("button");

        async function loadJSON() {
          let requestJSON = new Request('county-data/json/json_for_search.json');
          let fetchResponse = await fetch(requestJSON);
          let jsonValue = await fetchResponse.json();
          var resolvedJSONValue = Promise.resolve(jsonValue);
          console.log(resolvedJSONValue.typeof);
          // here I get undefined for type and I wasn't sure if that should be the case
          return resolvedJSONValue;
      }

        stateButton.addEventListener("click", () => {
          var object = Object.keys(resolvedJSONValue);
          console.log(object);
          // says resolvedJSONValue is not defined
          if (object == stateButton.dataset.state) {
              // make it list counties    
          }; 
        });
      </script>




<!-- 
          // You'll need a script that attaches an event handler
          // to the list items for the ul of states. The event handler function
          // can pluck the "data-state" value and use that to pull the list of counties
          // for the given state and render the counties visually.

          // You'll need to decide on the o 
          //  -->

      </div>
    </div>
  </body>
</html>
